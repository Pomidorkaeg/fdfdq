import{j as e}from"./ui-core-CQa18vHq.js";import{r as s,R as a}from"./react-vendor-CINg3o4D.js";import{C as i}from"./card-Blobujtd.js";import{B as l}from"./button-CZvKdQxA.js";import{t}from"./index-DXbdpNzr.js";import{D as r,a as n,b as c,c as d,e as m,d as o}from"./dialog-BqL5HooJ.js";import{S as h,a as x,b as j,c as g,d as v}from"./select-C9iufqZE.js";import{L as u,I as p}from"./label-B7WbcXGG.js";import{y as f,C as N,T as y,z as w,B as b}from"./ui-utils-DHnK_5Rc.js";import"./data-management-CmGCKQt-.js";const C=()=>{var C,S;const[T,k]=s.useState([]),[F,I]=s.useState(!1),[O,z]=s.useState(null),[J,B]=s.useState(null);a.useEffect((()=>{const e=localStorage.getItem("matches");e&&k(JSON.parse(e))}),[]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Управление матчами"}),e.jsxs(l,{onClick:()=>{const e={id:Date.now().toString(),homeTeam:"",awayTeam:"",date:"",time:"",venue:"",competition:"",status:"scheduled"};z(e),I(!0)},className:"bg-fc-green hover:bg-fc-darkGreen",children:[e.jsx(f,{className:"mr-2 h-4 w-4"})," Добавить матч"]})]}),e.jsx("div",{className:"grid gap-6",children:T.map((s=>{var a,t;return e.jsx(i,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("live"===s.status?"bg-fc-green text-white":"finished"===s.status?"bg-gray-200 text-gray-700":"bg-fc-yellow text-gray-900"),children:"live"===s.status?"Идет матч":"finished"===s.status?"Завершен":"Запланирован"}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[e.jsx(N,{className:"h-4 w-4"}),e.jsxs("span",{children:[s.date," ",s.time]})]})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"text-lg font-semibold",children:s.homeTeam})}),e.jsxs("div",{className:"flex items-center gap-3",children:["scheduled"!==s.status&&e.jsxs("div",{className:"text-2xl font-bold",children:[null==(a=s.score)?void 0:a.home," - ",null==(t=s.score)?void 0:t.away]}),"scheduled"===s.status&&e.jsx("div",{className:"text-xl font-bold",children:"vs"})]}),e.jsx("div",{className:"flex-1 text-right",children:e.jsx("div",{className:"text-lg font-semibold",children:s.awayTeam})})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-4 w-4"}),s.competition]}),e.jsx("div",{children:s.venue})]})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsxs(l,{variant:"ghost",size:"sm",onClick:()=>(e=>{z(e),I(!0)})(s),children:[e.jsx(w,{className:"h-4 w-4 mr-1"})," Изменить"]}),e.jsxs(l,{variant:"ghost",size:"sm",onClick:()=>B(s.id),className:"text-fc-red hover:text-fc-red/80",children:[e.jsx(b,{className:"h-4 w-4 mr-1"})," Удалить"]})]})]})},s.id)}))}),F&&O&&e.jsx(r,{open:F,onOpenChange:()=>I(!1),children:e.jsxs(n,{className:"max-w-2xl",children:[e.jsx(c,{children:e.jsx(d,{children:O.id?"Редактировать матч":"Добавить новый матч"})}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"homeTeam",children:"Домашняя команда"}),e.jsx(p,{id:"homeTeam",value:O.homeTeam,onChange:e=>z({...O,homeTeam:e.target.value})})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"awayTeam",children:"Гостевая команда"}),e.jsx(p,{id:"awayTeam",value:O.awayTeam,onChange:e=>z({...O,awayTeam:e.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"date",children:"Дата"}),e.jsx(p,{id:"date",type:"date",value:O.date,onChange:e=>z({...O,date:e.target.value})})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"time",children:"Время"}),e.jsx(p,{id:"time",type:"time",value:O.time,onChange:e=>z({...O,time:e.target.value})})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"venue",children:"Стадион"}),e.jsx(p,{id:"venue",value:O.venue,onChange:e=>z({...O,venue:e.target.value})})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"competition",children:"Соревнование"}),e.jsx(p,{id:"competition",value:O.competition,onChange:e=>z({...O,competition:e.target.value})})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{children:"Статус матча"}),e.jsxs(h,{value:O.status,onValueChange:e=>z({...O,status:e}),children:[e.jsx(x,{children:e.jsx(j,{})}),e.jsxs(g,{children:[e.jsx(v,{value:"scheduled",children:"Запланирован"}),e.jsx(v,{value:"live",children:"Идет матч"}),e.jsx(v,{value:"finished",children:"Завершен"})]})]})]}),"scheduled"!==O.status&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"scoreHome",children:"Голы (хозяева)"}),e.jsx(p,{id:"scoreHome",type:"number",min:"0",value:(null==(C=O.score)?void 0:C.home)||0,onChange:e=>z({...O,score:{...O.score,home:parseInt(e.target.value)||0}})})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"scoreAway",children:"Голы (гости)"}),e.jsx(p,{id:"scoreAway",type:"number",min:"0",value:(null==(S=O.score)?void 0:S.away)||0,onChange:e=>z({...O,score:{...O.score,away:parseInt(e.target.value)||0}})})]})]})]}),e.jsxs(m,{children:[e.jsx(l,{variant:"outline",onClick:()=>I(!1),children:"Отмена"}),e.jsx(l,{onClick:()=>{return(e=O).id?k((s=>{const a=s.map((s=>s.id===e.id?e:s));return localStorage.setItem("matches",JSON.stringify(a)),a})):k((s=>{const a=[...s,{...e,id:Date.now().toString()}];return localStorage.setItem("matches",JSON.stringify(a)),a})),I(!1),z(null),void t({title:"Успешно сохранено",description:"Матч был успешно сохранен"});var e},className:"bg-fc-green hover:bg-fc-darkGreen",children:"Сохранить"})]})]})}),e.jsx(r,{open:!!J,onOpenChange:()=>B(null),children:e.jsxs(n,{children:[e.jsxs(c,{children:[e.jsx(d,{children:"Подтвердите удаление"}),e.jsx(o,{children:"Вы уверены, что хотите удалить этот матч? Это действие нельзя отменить."})]}),e.jsxs(m,{children:[e.jsx(l,{variant:"outline",onClick:()=>B(null),children:"Отмена"}),e.jsx(l,{variant:"destructive",onClick:()=>{return J&&(e=J,k((s=>{const a=s.filter((s=>s.id!==e));return localStorage.setItem("matches",JSON.stringify(a)),a})),B(null),void t({title:"Удалено",description:"Матч был успешно удален",variant:"destructive"}));var e},children:"Удалить"})]})]})})]})};export{C as default};
