{"version":3,"file":"newsOperations-Yq9_nnMg.js","sources":["../../src/utils/news/newsOperations.ts"],"sourcesContent":["import { toast } from '@/components/ui/use-toast';\r\n\r\nexport interface NewsItem {\r\n  id: string;\r\n  title: string;\r\n  excerpt: string;\r\n  content: string;\r\n  category: 'matches' | 'club';\r\n  date: string;\r\n  time: string;\r\n  image: string;\r\n  views: number;\r\n}\r\n\r\n// Initialize or load news from localStorage\r\nexport const loadNews = (): NewsItem[] => {\r\n  try {\r\n    const savedNews = localStorage.getItem('news');\r\n    if (savedNews) {\r\n      return JSON.parse(savedNews);\r\n    }\r\n  } catch (error) {\r\n    console.error('Failed to load news from localStorage:', error);\r\n    toast({\r\n      variant: \"destructive\",\r\n      title: \"Ошибка\",\r\n      description: \"Не удалось загрузить новости\",\r\n    });\r\n  }\r\n  return [];\r\n};\r\n\r\n// Save news to localStorage\r\nexport const saveNews = (news: NewsItem[]): void => {\r\n  try {\r\n    localStorage.setItem('news', JSON.stringify(news));\r\n  } catch (error) {\r\n    console.error('Failed to save news to localStorage:', error);\r\n    toast({\r\n      variant: \"destructive\",\r\n      title: \"Ошибка\",\r\n      description: \"Не удалось сохранить новости\",\r\n    });\r\n  }\r\n};\r\n\r\n// Get all news\r\nexport const getAllNews = (): NewsItem[] => {\r\n  return loadNews();\r\n};\r\n\r\n// Add a new news item\r\nexport const createNews = (newsItem: NewsItem): void => {\r\n  const news = loadNews();\r\n  news.push(newsItem);\r\n  saveNews(news);\r\n};\r\n\r\n// Update an existing news item\r\nexport const updateNews = (updatedNews: NewsItem): void => {\r\n  const news = loadNews();\r\n  const index = news.findIndex(item => item.id === updatedNews.id);\r\n  if (index !== -1) {\r\n    news[index] = updatedNews;\r\n    saveNews(news);\r\n  }\r\n};\r\n\r\n// Delete a news item\r\nexport const deleteNews = (id: string): void => {\r\n  const news = loadNews();\r\n  const updatedNews = news.filter(item => item.id !== id);\r\n  saveNews(updatedNews);\r\n};"],"names":["loadNews","savedNews","error","toast","saveNews","news","getAllNews","createNews","newsItem","updateNews","updatedNews","index","item","deleteNews","id"],"mappings":"wCAeO,MAAMA,EAAW,IAAkB,CACpC,GAAA,CACI,MAAAC,EAAY,aAAa,QAAQ,MAAM,EAC7C,GAAIA,EACK,OAAA,KAAK,MAAMA,CAAS,QAEtBC,EAAO,CACN,QAAA,MAAM,yCAA0CA,CAAK,EACvDC,EAAA,CACJ,QAAS,cACT,MAAO,SACP,YAAa,8BAAA,CACd,CACH,CACA,MAAO,EACT,EAGaC,EAAYC,GAA2B,CAC9C,GAAA,CACF,aAAa,QAAQ,OAAQ,KAAK,UAAUA,CAAI,CAAC,QAC1CH,EAAO,CACN,QAAA,MAAM,uCAAwCA,CAAK,EACrDC,EAAA,CACJ,QAAS,cACT,MAAO,SACP,YAAa,8BAAA,CACd,CACH,CACF,EAGaG,EAAa,IACjBN,EAAS,EAILO,EAAcC,GAA6B,CACtD,MAAMH,EAAOL,IACbK,EAAK,KAAKG,CAAQ,EAClBJ,EAASC,CAAI,CACf,EAGaI,EAAcC,GAAgC,CACzD,MAAML,EAAOL,IACPW,EAAQN,EAAK,aAAkBO,EAAK,KAAOF,EAAY,EAAE,EAC3DC,IAAU,KACZN,EAAKM,CAAK,EAAID,EACdN,EAASC,CAAI,EAEjB,EAGaQ,EAAcC,GAAqB,CAE9C,MAAMJ,EADOV,IACY,OAAeY,GAAAA,EAAK,KAAOE,CAAE,EACtDV,EAASM,CAAW,CACtB"}